/* Target common control bar containers; keep the selectors broad so one matches your markup.
   If you have a specific container, add it here (e.g., #transport-controls). */
#controls,
.controls,
.toolbar,
#transport {
  position: fixed;              /* or sticky/top if that suits your layout */
  left: 0;
  right: 0;
  bottom: max(8px, env(safe-area-inset-bottom, 0px)); /* respect iOS safe area */
  margin: 0 auto;
  padding: 8px 10px;
  box-sizing: border-box;

  display: flex;
  flex-wrap: wrap;              /* allow wrapping to avoid overlap */
  align-items: center;
  justify-content: center;
  gap: 8px;

  max-width: min(100vw, 980px);
  z-index: 9998;

  background: color-mix(in srgb, #000 40%, transparent);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.35);
  backdrop-filter: saturate(120%) blur(8px);
  color: #fff;
  font: 14px/1.3 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Generic item rules */
#controls > *,
.controls > *,
.toolbar > *,
#transport > * {
  flex: 0 0 auto;               /* buttons don't shrink into each other */
  min-height: 34px;
}

/* Buttons: keep compact, donâ€™t shrink into overlap */
#controls button,
.controls button,
.toolbar button,
#transport button {
  white-space: nowrap;
  padding: 6px 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.25);
  background: rgba(255,255,255,0.08);
  color: #fff;
  cursor: pointer;
  flex: 0 0 auto;
}

/* Sliders and selects: allow to grow and wrap to next line when space is tight */
#controls input[type="range"],
.controls input[type="range"],
.toolbar input[type="range"],
#transport input[type="range"],
#controls select,
.controls select,
.toolbar select,
#transport select {
  flex: 1 1 160px;              /* grow, shrink, and have a sensible min width */
  min-width: clamp(120px, 30vw, 220px);
  max-width: 100%;
}

/* Text/status elements */
#controls .label,
.controls .label,
.toolbar .label,
#transport .label {
  flex: 0 0 auto;
  white-space: nowrap;
}

/* If you have a spacer element, let it take remaining space */
#controls .spacer,
.controls .spacer,
.toolbar .spacer,
#transport .spacer {
  flex: 1 1 0;
  min-width: 0;
}

/* Very small screens: increase wrapping and tighten spacing */
@media (max-width: 480px) {
  #controls,
  .controls,
  .toolbar,
  #transport {
    gap: 6px;
    padding: 8px;
    border-radius: 10px;
    font-size: 13px;
  }

  /* Make wide controls take full row when needed */
  #controls input[type="range"],
  .controls input[type="range"],
  .toolbar input[type="range"],
  #transport input[type="range"],
  #controls select,
  .controls select,
  .toolbar select,
  #transport select {
    flex: 1 1 100%;
    min-width: 66vw;
  }

  /* Optional: hide long labels; keep icons visible */
  #controls .label--long,
  .controls .label--long,
  .toolbar .label--long,
  #transport .label--long {
    display: none;
  }
}

/* Ultra-small widths: allow the bar to stretch edge-to-edge for space */
@media (max-width: 360px) {
  #controls,
  .controls,
  .toolbar,
  #transport {
    left: 8px;
    right: 8px;
    max-width: none;
  }
}